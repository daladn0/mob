document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".form_confirm"),t=document.querySelector(".form_reset"),o=document.querySelector(".content__subtitle");function n({modalWindow:e,heading:t="FoxHub"}){const o=document.querySelector(e),n=o.querySelector(".modal__close"),s=o.querySelector(".modal__heading");function r(){o.classList.remove("modal_active"),document.body.style.overflow=""}s.innerHTML=t;const l=e=>{e.target!==o&&e.target!==n||r()};return o.addEventListener("click",l),{openModal:function(e){e&&(o.querySelector(".modal__p").innerHTML=e),o.classList.add("modal_active"),document.body.style.overflow="hidden"},closeModal:r,disableClose:function(){o.removeEventListener("click",l)}}}o.innerHTML="Confirm your email",e&&t&&(t.style.display="none"),f(".form_confirm",()=>{t.style.display="",e.style.display="none",o.innerHTML="Reset password"}),f(".form_reset",()=>{r("Your password has been changed"),l(),setTimeout(()=>{window.location.href="/mob/dist"},2e3)});const s=n({heading:"Following frequently asked questions might help you!",modalWindow:".modal_help"})["openModal"],{openModal:r,disableClose:l}=n({heading:"Success!",modalWindow:".modal_success"}),c=document.querySelector(".content__help");function d(e,t,o,n){e.type=o,t.textContent=n,e.focus()}c.addEventListener("click",e=>{e.preventDefault(),s()});const a=document.querySelector("#show"),u=document.querySelector("#password");a&&a.addEventListener("click",e=>{e.preventDefault(),"text"===u.type?d(u,a,"password","show"):d(u,a,"text","hide")});const m=document.querySelectorAll(".show-password");function f(e,t){const o=document.querySelector(e);function n(){const e=o.querySelectorAll("input");e.forEach(e=>{var t,o,n=e.value.trim();"name"===e.id?""===n||n.length<=1?s(e,"Name field should contain at least 2 letters!"):r(e):"email"===e.id?""===n?s(e,"Email field is empty!"):/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)?r(e):s(e,"Email is not valid!"):"password"===e.id||"new-password"===e.id?(t=e,""===(o=n)?s(t,"Password field is empty!"):/(.*?[0-9])/gm.test(o)?/(.*?[a-z])/gm.test(o)?/(.*?[A-Z])/gm.test(o)?/.{8,}/gm.test(o)?r(t):s(t,"Password should contain at least 8 letters!"):s(t,"Password should contain at least one upper case char!"):s(t,"Password should contain at least one lowwer case char!"):s(t,"Password should contain at least one number!")):"new-password2"===e.id&&(n!==e.closest("form").querySelector("#new-password").value?s(e,"You have typed different passwords!"):r(e))})}function s(e,t){const o=e.closest(".content__field");o.classList.add("content__field_error"),o.querySelector(".content__error").textContent=t}function r(e){const t=e.closest(".content__field");t.classList.remove("content__field_error"),t.querySelector(".content__error").textContent=""}o&&o.addEventListener("submit",e=>{e.preventDefault(),n(),function(e){const t=o.querySelector(".content__field_error");t?t.querySelector("input").focus():(o.querySelectorAll("input").forEach(e=>e.value=""),e())}(t),o.addEventListener("change",e=>{"password"!==e.target.id&&n()})})}m.forEach(n=>{n.addEventListener("click",()=>{var e=document.querySelectorAll(".password-new"),t=document.querySelectorAll(".show-password");if("text"===e[0].type)for(i=0;i<e.length;i++)d(e[i],t[i],"password","show");else for(i=0;i<e.length;i++)d(e[i],t[i],"text","hide");const o=n.closest(".content__input").querySelector(".password-new");o.focus()})}),f(".form_signin",()=>{r("You have been loged in successfuly!")}),f(".form_signup",()=>{r("You have been signed up successfuly!")})});