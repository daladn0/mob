document.addEventListener("DOMContentLoaded",function(){function e({heading:e="FoxHub",modalWindow:t}){const o=document.querySelector(t),n=o.querySelector(".modal__close"),s=o.querySelector(".modal__heading");function r(){o.classList.remove("modal_active"),document.body.style.overflow=""}return s.innerHTML=e,o.addEventListener("click",e=>{e.target!==o&&e.target!==n||r()}),{openModal:function(e){e&&(o.querySelector(".modal__p").innerHTML=e),o.classList.add("modal_active"),document.body.style.overflow="hidden"},closeModal:r}}const t=e({heading:"Following frequently asked questions might help you!",modalWindow:".modal_help"})["openModal"],o=e({heading:"Success!",modalWindow:".modal_success"})["openModal"],{openModal:n,closeModal:s}=e({heading:"Reset password",modalWindow:".modal_password"}),r=document.querySelector(".content__help"),d=document.querySelector(".content__issue");function c(e,t,o,n){e.type=o,t.textContent=n,e.focus()}r.addEventListener("click",e=>{e.preventDefault(),t()}),d&&d.addEventListener("click",e=>{e.preventDefault(),n()});const l=document.querySelector("#show"),a=document.querySelector("#password");l.addEventListener("click",e=>{e.preventDefault(),"text"===a.type?c(a,l,"password","show"):c(a,l,"text","hide")});const u=document.querySelectorAll(".show-password");u.forEach(n=>{n.addEventListener("click",()=>{var e=document.querySelectorAll(".password-new"),t=document.querySelectorAll(".show-password");if("text"===e[0].type)for(i=0;i<e.length;i++)c(e[i],t[i],"password","show");else for(i=0;i<e.length;i++)c(e[i],t[i],"text","hide");const o=n.closest(".content__input").querySelector(".password-new");o.focus()})});document.querySelector("#form");function m(e,t){const o=document.querySelector(e);function n(){const e=o.querySelectorAll("input");e.forEach(e=>{var t=e.value.trim();"name"===e.id?""===t||t.length<=1?s(e,"Name field should contain at least 2 letters!"):r(e):"email"===e.id?""===t?s(e,"Email field is empty!"):/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?r(e):s(e,"Email is not valid!"):"password"===e.id||"new-password"===e.id?""===t?s(e,"Password field is empty!"):/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(t)?r(e):s(e,"Password should contain 8 letters, one number, one upper and lower case char!"):"new-password2"===e.id&&(t!==e.closest("form").querySelector("#new-password").value?s(e,"You have typed different passwords!"):(console.log("success"),r(e)))})}function s(e,t){const o=e.closest(".content__field");o.classList.add("content__field_error"),o.querySelector(".content__error").textContent=t}function r(e){const t=e.closest(".content__field");t.classList.remove("content__field_error"),t.querySelector(".content__error").textContent=""}o&&o.addEventListener("submit",e=>{e.preventDefault(),n(),function(e){const t=o.querySelector(".content__field_error");t?t.querySelector("input").focus():(o.querySelectorAll("input").forEach(e=>e.value=""),e())}(t),o.addEventListener("change",e=>{"password"!==e.target.id&&n()})})}m(".form_signin",()=>{o("You have been loged in successfuly!")}),m(".form_signup",()=>{o("You have been signed up successfuly!")}),m(".form_reset",()=>{s(),setTimeout(()=>o("Your password has been changed!"),500)})});